{"version":3,"file":"static/js/543.a8f0b5e0.chunk.js","mappings":"+OAEaA,EAAOC,EAAAA,GAAAA,GAAH,gG,gDCaJC,EAAW,WACtB,OAAkCC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IACrBC,GAAOF,EAAAA,EAAAA,IAAYG,EAAAA,IACnBC,GAAQJ,EAAAA,EAAAA,IAAYK,EAAAA,IACpBC,GAAQN,EAAAA,EAAAA,IAAYO,EAAAA,IACpBC,GAAOR,EAAAA,EAAAA,IAAYS,EAAAA,IACnBC,GAAKV,EAAAA,EAAAA,IAAYW,EAAAA,IAEjBC,EAAWV,EAAKW,QAAO,SAAAC,GAC3B,GAAIV,GAASU,EAAIC,OAASX,EACxB,OAAO,EAET,GAAIE,GACeU,WAAWF,EAAIG,YAAYC,QAAQ,IAAK,KAC1CF,WAAWV,GACxB,OAAO,EAGX,QAAIE,GAAQM,EAAIK,QAAUC,SAASZ,EAAM,QAGrCE,GAAMI,EAAIK,QAAUC,SAASV,EAAI,IAItC,IAEKW,EAAkB,SAAAC,GACtB1B,GAAa,GACbC,GAAS0B,EAAAA,EAAAA,IAAMD,GAChB,EAMD,OACE,iCACE,SAAC/B,EAAD,UACGqB,EAASY,KAAI,SAAAV,GAAG,OACf,SAACW,EAAA,EAAD,CAAuBC,QAASZ,EAAKnB,UAAW0B,GAAjCP,EAAIQ,GADJ,MAIlB3B,IACC,SAACgC,EAAA,EAAD,CAAcC,QAZK,WACvBhC,GAAa,EACd,EAU8C8B,QAAS3B,MAIzD,EChEY8B,EAAUrC,EAAAA,GAAAA,IAAH,gJAQPsC,EAActC,EAAAA,GAAAA,OAAH,2Q,8BCDT,SAASuC,IACtB,OAAsCrC,EAAAA,EAAAA,UAAS,GAA/C,eAAOsC,EAAP,KAAoBC,EAApB,KAKMpC,GAAWC,EAAAA,EAAAA,MACXI,GAAOF,EAAAA,EAAAA,IAAYG,EAAAA,IACnB+B,GAAYlC,EAAAA,EAAAA,IAAYmC,EAAAA,KAE9BC,EAAAA,EAAAA,YAAU,WACRvC,GAASwC,EAAAA,EAAAA,KACV,GAAE,CAACxC,IAcJ,OACE,UAACgC,EAAD,YACE,SAACS,EAAA,EAAD,IACCJ,GACC,SAACK,EAAA,EAAD,KAEA,iCACE,SAAC9C,EAAD,IACCS,EAAKsC,OAAS,IACb,SAACV,EAAD,CAAaW,KAAK,SAASC,QAfd,WAjBF,GAkBfV,GAjBa,IAkBfC,EAAeD,EAAc,EAEhC,EAWS,SAAoD,mBAQ/D,C","sources":["components/CarsList/CarsList.styled.jsx","components/CarsList/CarsList.jsx","pages/CarsCatalogPage/CarsCatalogPage.styled.jsx","pages/CarsCatalogPage/CarsCatalogPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  padding: 50px 0;\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { setId } from 'redux/cars/slice';\nimport { List } from './CarsList.styled';\nimport { useState } from 'react';\nimport {\n  selectBrand,\n  selectCarById,\n  selectCars,\n  selectFrom,\n  selectPrice,\n  selectTo,\n} from 'redux/cars/selectors';\nimport { ModalDetails } from 'components/ModalDetails/ModalDetails';\nimport { CarsItem } from 'components/CarsItem/CarsItem';\n\nexport const CarsList = () => {\n  const [modalOpen, setModalOpen] = useState(false);\n\n  const dispatch = useDispatch();\n  const oneCar = useSelector(selectCarById);\n  const cars = useSelector(selectCars);\n  const brand = useSelector(selectBrand);\n  const price = useSelector(selectPrice);\n  const from = useSelector(selectFrom);\n  const to = useSelector(selectTo);\n\n  const filtered = cars.filter(car => {\n    if (brand && car.make !== brand) {\n      return false;\n    }\n    if (price) {\n      const carPrice = parseFloat(car.rentalPrice.replace('$', ''));\n      if (carPrice > parseFloat(price)) {\n        return false;\n      }\n    }\n    if (from && car.mileage < parseInt(from, 10)) {\n      return false;\n    }\n    if (to && car.mileage > parseInt(to, 10)) {\n      return false;\n    }\n    return true;\n  });\n\n  const handleModalOpen = id => {\n    setModalOpen(true);\n    dispatch(setId(id));\n  };\n\n  const handleModalClose = () => {\n    setModalOpen(false);\n  };\n\n  return (\n    <>\n      <List>\n        {filtered.map(car => (\n          <CarsItem key={car.id} carInfo={car} modalOpen={handleModalOpen} />\n        ))}\n      </List>\n      {modalOpen && (\n        <ModalDetails onClose={handleModalClose} carInfo={oneCar} />\n      )}\n    </>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 80px 128px;\n`;\n\nexport const LoadMoreBtn = styled.button`\n  font-family: inherit;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.5;\n  text-decoration: underline;\n  text-decoration-skip-ink: none;\n  background-color: transparent;\n  color: #3470ff;\n  border: none;\n  cursor: pointer;\n`;\n","import { CarsList } from 'components/CarsList/CarsList';\nimport { Wrapper, LoadMoreBtn } from './CarsCatalogPage.styled';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport { fetchCars } from 'redux/cars/operations';\nimport { selectCars, selectIsLoading } from 'redux/cars/selectors';\nimport { Loader } from 'components/Loader/Loader';\n\nexport default function CarsCatalogPage() {\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const itemsPerPage = 12;\n  const totalItems = 32;\n\n  const dispatch = useDispatch();\n  const cars = useSelector(selectCars);\n  const isLoading = useSelector(selectIsLoading);\n\n  useEffect(() => {\n    dispatch(fetchCars());\n  }, [dispatch]);\n\n  // useEffect(() => {\n  //   if (currentPage > 1) {\n  //     dispatch(fetchCars({ currentPage }));\n  //   }\n  // }, [currentPage, dispatch]);\n\n  const handleLoadMore = () => {\n    if (currentPage * itemsPerPage <= totalItems) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  return (\n    <Wrapper>\n      <SearchForm />\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          <CarsList />\n          {cars.length > 0 && (\n            <LoadMoreBtn type=\"button\" onClick={handleLoadMore}>\n              Load more\n            </LoadMoreBtn>\n          )}\n        </>\n      )}\n    </Wrapper>\n  );\n}\n"],"names":["List","styled","CarsList","useState","modalOpen","setModalOpen","dispatch","useDispatch","oneCar","useSelector","selectCarById","cars","selectCars","brand","selectBrand","price","selectPrice","from","selectFrom","to","selectTo","filtered","filter","car","make","parseFloat","rentalPrice","replace","mileage","parseInt","handleModalOpen","id","setId","map","CarsItem","carInfo","ModalDetails","onClose","Wrapper","LoadMoreBtn","CarsCatalogPage","currentPage","setCurrentPage","isLoading","selectIsLoading","useEffect","fetchCars","SearchForm","Loader","length","type","onClick"],"sourceRoot":""}